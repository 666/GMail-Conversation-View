# vim:ft=none 
# let nextbug = 68 in

OUTSTANDING BUGS
================
#9 Add an option to automatically mark messages as read as they are scrolled
  into view.
#64 Add an arrow on top of an email (or sth) to fold it back.
#65 Integrate French translation...
#63 Add visual feedback for messages that are drafts.

QUOTING BUGS
============
#51 Find a way to hide short quotes in HTML (i.e. less than 3 lines)
#59 Improve quote folding code.
  - ----- XXX XXX ----- does not work optimally. Do sth like
    while (node.parentNode.nextSibling && node.parentNode.firstChild == node)
      node = node.parentNode
    and then put everything in the blockquote (really think hard about the best
    way to do that).

LOW-KEY BUGS
============
#64 Add automated tests in my Makefiles to detect untranslated strings.
#60 Add an option to set each message's background the same color as the sender
(maybe lighter). set r = r / sqrt(r² + g² + b²) (same for g & b) and multiply by
a lightness factor.
#14 Assign a unique color to each recipient
  a) Currently using the sender's name as the key, check if there's something
  more elaborate using GlodaIdentity
#20 Add a preference to choose the default set of colors for recipients.

#61 Forwarded emails are incorrectly understood as attachments (check fix works)
#45 Sometimes Thunderbird has not indexed a message... can we force indexing ?
#50 Refactor message display (esp. plain/text) --> use a Necko URL (and use the
 HTML show/hide quoted text code)
#47 0x0019 unicode char makes the innerHTML insertion phase fail
#37 KB shortcuts for common operations -> use a global <key /> and
  if ($("#multimessage").is(":visible"))
    $("#multimessage").contentDocument.unfoldAll();
#7 Make everything asynchronous. Start filling in messages for the first
  query, then launch the extended query that fetches more messages, and then
  asynchronously insert those in the right place as they arrive (i.e.
  onItemsAdded, not onQueryCompleted). There's already that kind of logic in
  selectionsummaries.js and we're currently duplicating it, so maybe check with
  davida or asuth if I can refactor selectionsummaries.js to suit my needs.
#19 Font size is set as 12px. Use the Thunderbird-wide preference that depends
  on the lang of the message. --> Do not set 12px but set font to -moz-fixed
  when viewing message with monospace font.


BUGS DUE TO THUNDERBIRD
=======================
#?? Sent messages do not appear in conversations until you open the "Sent"
  folder yourself. Bug 534449.
#29 Encoding issues (Chinese not ok, Czech not ok either, French not ok either).
  Especially the dates. We'll that's a Thunderbird issue (a
  XPConnect/storage-related one) that will hopefully be fixed in the next
  release. See bug 547088.
#12 Extension does not work with newsgroups (see bug 478167) and possibly other
types of accounts.
#?? Dates are incorrectly translated (some are, some are not) see bug 537401
#?? Nasty flickering when scrolling messages with HTML display on. See
  https://bugzilla.mozilla.org/show_bug.cgi?id=540911
#21 Some conversations are erroneously recognized as multiple conversations
  (esp. when you change addresses when replying).
  https://bugzilla.mozilla.org/show_bug.cgi?id=538750, fixed by the extension,
  Thunderbird patch pending.
